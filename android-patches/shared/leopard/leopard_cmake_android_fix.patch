--- a/vendor/nim-codex/vendor/nim-leopard/vendor/leopard/CMakeLists.txt
+++ b/vendor/nim-codex/vendor/nim-leopard/vendor/leopard/CMakeLists.txt
@@ -1,4 +1,14 @@
 cmake_minimum_required(VERSION 3.7)
+
+# Skip -march=native on Android to avoid x86-specific flags on ARM
+if(ANDROID OR ANDROID_ARM64_BUILD)
+  message(STATUS "Android build detected: skipping -march=native to avoid architecture-specific flags")
+  set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS}")
+else()
+  # Set default flags for non-Android
+  set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS}")
+endif()
+
 project(leopard)
 
 include(CMakeDependentOption)
@@ -28,9 +38,12 @@
     set(CMAKE_BUILD_TYPE Release)
 endif()
 
-check_cxx_compiler_flag("-march=native" COMPILER_SUPPORTS_MARCH_NATIVE)
-if(COMPILER_SUPPORTS_MARCH_NATIVE)
+# Only check for -march=native on non-Android platforms
+if(NOT ANDROID AND NOT ANDROID_ARM64_BUILD)
+  check_cxx_compiler_flag("-march=native" COMPILER_SUPPORTS_MARCH_NATIVE)
+  if(COMPILER_SUPPORTS_MARCH_NATIVE)
     set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -march=native")
+  endif()
 endif()
 
 if(CMAKE_CXX_COMPILER_ID STREQUAL "MSVC")
