--- a/vendor/nim-codex/Makefile	2025-12-04 21:35:44.237128307 -0500
+++ b/vendor/nim-codex/Makefile	2025-12-04 21:36:13.348072351 -0500
@@ -80,9 +80,14 @@
 # "variables.mk" was not included, so we update the submodules.
 GIT_SUBMODULE_UPDATE := git submodule update --init --recursive
 .DEFAULT:
-	+@ echo -e "Git submodules not found. Running '$(GIT_SUBMODULE_UPDATE)'.\n"; \
-		$(GIT_SUBMODULE_UPDATE); \
-		echo
+	ifndef CODEX_SKIP_SUBMODULE_UPDATE
+		+@ echo -e "Git submodules not found. Running '$(GIT_SUBMODULE_UPDATE)'.\n"; \
+			$(GIT_SUBMODULE_UPDATE); \
+			echo
+	else
+		+@ echo -e "Git submodules not found. Skipping update to preserve patches.\n"; \
+			echo
+	endif
 # Now that the included *.mk files appeared, and are newer than this file, Make will restart itself:
 # https://www.gnu.org/software/make/manual/make.html#Remaking-Makefiles
 #
